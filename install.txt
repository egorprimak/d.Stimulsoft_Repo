Инструкция по установке модуля "Stimulsoft Reports v1"

Предполагается, что установка производится на настроенный экземпляр ODANT.
Более подробную информацию по установке и настройке ODANT можно получить на https://odant.org/



Перед началом установки необходимо иметь:
- Копию модуля;
- Установленную на сервере NodeJS версии 14.x.x;
	Последняя версия NodeJS 14.x.x на момент написания документа 14.20.0
	Загрузить установщик для любой операционной системы можно по ссылке
	https://nodejs.org/download/release/v14.20.0/
- Если планируется использовать генератор отчётов Excel с использованием скриптов на Python,
  требуется установка Anaconda на сервере;
	https://www.anaconda.com/
  |- Директорию, в которой будут хранится скрипты python:
	В случае WINDOWS это может быть директория excel-creator на одном уровне с базой данных.
	Для LINUX можно создать директорию ~/excel-creator и предоставить права на запись пользователям группы odant.
- Директорию, в которую будут сохраняться временные файлы модуля;
	В случае WINDOWS это может быть директория tmp-reports на одном уровне с базой данных.
	Для LINUX можно создать директорию ~/tmp-reports и предоставить права на запись пользователям группы odant.



Шаги установки:
1 Поместите файлы модуля в директорию d.Stimulsoft_Repo (предварительно её создав) корневого домена;
	Возможные пути в WINDOWS: C:\ODABASE, D:\ODABASE
	Возможные пути в LINUX: /opt/odant/var/database
2 Настройте пути к временным файлам модуля в файле (путь относительно модуля) ReportGenerator/CLASS/web/class/server/methods/generate/generate.js
	Переменные для настройки находятся на строках 125-126.
	Для WINDOWS:
		Укажите путь к диску и временной папке относительно диска. Так, если директория находится по пути D:\tmp-reports, настройка следующая:
		const WIN_DISK_NAME = IS_WINDOWS ? 'D:' : ''; // "C:", "D:" etc.
    		const TEMP_DIR_NAME = 'tmp-reports';
	Для LINUX установите только путь до временной папки:
		const TEMP_DIR_NAME = '/home/user/tmp-reports';
2.1 Аналогичную операцию необходимо проделать в ReportGenerator/CLASS/web/class/server/methods/generate/tmp-reports/generator.js на строках 9-10.
3 Содержимое директории (относительно модуля) ReportGenerator/CLASS/web/class/server/methods/generate/tmp-reports
  скопируйте в ранее определённую директорию временных файлов модуля;
4 В директории временных файлов выполните команду npm install;
	В случае, если сервер не имеет доступа к интернету, необходимо перенести временную папку на компьютер с
	доступом к внешней сети и выполнить npm install там, после чего перенести содержимое обратно на сервер.
5 Перезапустите сервер.

После установки модуль должен появиться в корневом домене.
Для начала работы установите модуль в рабочий домен (организацию).


Инструкция по настройке Anaconda в WINDOWS:
Для обращения к окружению Anaconda в WINDOWS модуль использует команду activate, для чего требуется настройка
переменной окружения Path:
1 Откройте Система -> Дополнительные параметры системы -> Переменные среды ...,
2 В группе "Системные переменные" выберите Path,
3 Добавьте пути к директории с Anaconda её исполняемыми файлами,
	Н-р:
		C:\Users\user_name\anaconda3
		C:\Users\user_name\anaconda3\condabin
4 Подтвердите изменения.
Может потребоваться перезапуск операционной системы.
Для проверки запустите cmd или PowerShell и выполните команду activate. Отсутствие ошибок говорит о корректной настройке.



Инструкция по настройке Anaconda в LINUX:
Для обращения к окружению Anaconda в LINUX модуль использует команду conda activate, для чего необходимо:
1 Добавить conda в скрипт инициализации командной оболочки сервера, если это не произошло автоматически после установки.
	Подробнее: https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#:~:text=To%20set%20environment%20variables%2C%20run,conda%20env%20config%20vars%20list%20.



Пример реализации скрипта Python для заполнения Excel-шаблона для построения сводной таблицы представлен в директории (относительно модуля)
ReportGenerator/CLASS/web/class/server/methods/generate/excel-creator

